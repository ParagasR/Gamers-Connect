<section id="comments-container">
    <h2 id="comments-title" class="title is-3 mx-2">{{post.title}}</h2>
    <div id="post-with-comments" class="card">
        {{post.content}}
    </div>
    {{#if post.comments}}
    {{#each post.comments as |element|}}
    <div id="comments-card" class="card">
        <div class='content'>
            <h4>{{element.user.username}} - {{format_date element.createdAt}}</h4>
        </div>
        <div>
            {{element.comment}}
        </div>
    </div>
    {{/each}}
    {{/if}}
    {{#if loggedIn}}
    <button class="button" id="create-new">New Comment</button>
    {{/if}}
</section>

{{! modal to add a comment }}
<div class="modal" id="new">
    <div class="modal-background" id="add-background"></div>
    <div class="modal-content">
        <div class="card p-3">
            <form id="add-comment" class='content'>
                <div class="is-flex is-justify-content-center">
                    <h2>Add Comment</h2>
                </div>
                <div class="field">
                    {{! comment field form }}
                    <div>
                        <input class="textarea mb-3" placeholder="Enter comment here..." id="comment-field"
                            autocomplete="off" />
                    </div>
                    {{! submit button }}
                    <div class='control is-flex is-justify-content-center'>
                        <button class="button" type="submit">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript" src="/js/newComment.js"></script>